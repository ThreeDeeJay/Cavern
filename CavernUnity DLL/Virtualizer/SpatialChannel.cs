using UnityEngine;

using Cavern.Filters;

namespace Cavern.Virtualizer {
    static partial class VirtualizerFilter {
        /// <summary>Represents a virtualizable channel with impulse responses for both ears.</summary>
        struct SpatialChannel {
            const float LowFrequencyCrossover = 120;
            const float HighFrequencyCrossover = 12000;
            /// <summary>Ear to ear sound travel time in samples.</summary>
            const float PeakDelay = FilterSampleRate * .14f /* subject head width in meters */ / CavernUtilities.SpeedOfSound * Mathf.PI;

            /// <summary>Virtual speaker angle difference from the subject's gaze on the x axis: elevation.</summary>
            public float X;
            /// <summary>Virtual speaker angle difference from the subject's gaze on the y axis: azimuth.</summary>
            public float Y;
            /// <summary>Impulse response in the left ear.</summary>
            public float[] LeftEarIR;
            /// <summary>Impulse response in the right ear.</summary>
            public float[] RightEarIR;

            // Convolution filters for spatial placement
            Convolver _LeftFilter;
            Convolver _RightFilter;
            public Convolver LeftFilter => _LeftFilter ?? (_LeftFilter = new Convolver(LeftEarIR, Y > 0 ? Mathf.RoundToInt(Mathf.Sin(Y * Mathf.Deg2Rad) * PeakDelay) : 0));
            public Convolver RightFilter => _RightFilter ?? (_RightFilter = new Convolver(RightEarIR, Y < 0 ? Mathf.RoundToInt(Mathf.Sin(-Y * Mathf.Deg2Rad) * PeakDelay) : 0));

            // Low frequency crossover filters for retaining bass outside the impulse response frequency range
            Lowpass _LFC_LPF;
            Highpass _LFC_HPF;
            public Lowpass LFC_LPF => _LFC_LPF ?? (_LFC_LPF = new Lowpass(LowFrequencyCrossover));
            public Highpass LFC_HPF => _LFC_HPF ?? (_LFC_HPF = new Highpass(LowFrequencyCrossover));

            // High frequency crossover filters for retaining treble outside the impulse response frequency range
            Lowpass _HFC_LPF;
            Highpass _HFC_HPF;
            public Lowpass HFC_LPF => _HFC_LPF ?? (_HFC_LPF = new Lowpass(HighFrequencyCrossover));
            public Highpass HFC_HPF => _HFC_HPF ?? (_HFC_HPF = new Highpass(HighFrequencyCrossover));
        }

        /// <summary>HRIR database.</summary>
        static readonly SpatialChannel[] SpatialChannels = new SpatialChannel[] {
            new SpatialChannel() { // Front left
                X = 0, Y = -45,
                LeftEarIR = new float[] { -0.0006408691f, -0.1360779f, -0.2473145f, 0.1378174f, 0.4517517f, 0.07791138f, -0.2861633f, -0.2067261f, 0.08905029f, 0.03012085f, -0.07803345f, -0.1439209f, -0.1572266f, -0.2173767f, -0.09585571f, 0.0008239746f, 0.06771851f, 0.07168579f, 0.1448975f, 0.1260376f, 0.08804321f, 0.05847168f, 0.03466797f, -0.03103638f, -0.01782227f, 0.02130127f, 0.03762817f, 0.0135498f, 0.07095337f, 0.07415771f, 0.02191162f, -0.001831055f, 0.03964233f, 3.051758E-05f, -0.03799438f, -0.02938843f, -0.01568604f, -0.04412842f, -3.051758E-05f, 0.03729248f, 0.02877808f, 0.0118103f, 0.04180908f, 0.04876709f, 0.02581787f, 0.01904297f, 0.0163269f, 0.004333496f, 0.003051758f, 0.02993774f, 0.02780151f, 0.01553345f, 0.005126953f, 0.02178955f, 0.0105896f, 0.0123291f, 0.005126953f, 0.01327515f, -0.02267456f, -0.01461792f, -0.01678467f, -0.001068115f, -0.02371216f, -0.005767822f, },
                RightEarIR = new float[] { 0.001617432f, -0.02554321f, -0.01873779f, 0.003570557f, 0.01013184f, -0.003082275f, 0.02029419f, 0.03219604f, -0.0009155273f, -0.01535034f, -0.03076172f, -0.06018066f, -0.0680542f, -0.04852295f, -0.04394531f, -0.02581787f, -0.00289917f, 0.02011108f, 0.01385498f, 0.01638794f, 0.003875732f, 0.01242065f, -0.01080322f, 0.007110596f, 0.01315308f, 0.02545166f, 0.01928711f, 0.03302002f, 0.03027344f, 0.01473999f, 0.01205444f, -0.003356934f, -0.0112915f, -0.02316284f, -0.01150513f, -0.0173645f, -0.008758545f, -0.00378418f, 0.008361816f, 0.008789063f, 0.01498413f, 0.01397705f, 0.02178955f, 0.0118103f, 0.02478027f, 0.01165771f, 0.02639771f, 0.004882813f, 0.02651978f, 0.004943848f, 0.02233887f, 0.005249023f, 0.02124023f, 0.004119873f, 0.01385498f, 0.006774902f, 0.01113892f, 0.00201416f, 0.00668335f, 0.0006103516f, 0.005004883f, -0.0002441406f, 0.006072998f, -0.001251221f, }
            },
            new SpatialChannel() { // Front right
                X = 0, Y = 45,
                LeftEarIR = new float[] { 0.002929688f, -0.01705933f, -0.02432251f, -0.0004272461f, 0.02578735f, 0.02664185f, -0.01812744f, -0.01211548f, -0.0163269f, 0.01049805f, -0.01806641f, -0.001251221f, -0.04467773f, -0.03668213f, -0.05117798f, -0.02688599f, -0.04177856f, -0.01651001f, -0.004272461f, 0.009338379f, 0.01025391f, 0.01889038f, 0.02325439f, 0.0171814f, 0.01055908f, 0.005157471f, 0.004302979f, 0.004180908f, 0.006622314f, 0.004272461f, 0.004058838f, 0.004608154f, 0.007568359f, -0.00604248f, -0.004364014f, -0.009063721f, 0.003143311f, -0.009277344f, 0.0123291f, 0.003601074f, 0.02288818f, 0.005981445f, 0.03079224f, 0.01309204f, 0.03005981f, 0.0116272f, 0.02377319f, 0.00692749f, 0.0135498f, 0.008453369f, 0.0145874f, 0.009124756f, 0.01260376f, 0.01596069f, 0.01419067f, 0.01303101f, 0.01123047f, 0.01275635f, 0.002563477f, 0.005218506f, 6.103516E-05f, 0.006622314f, -0.002227783f, 0.007141113f, },
                RightEarIR = new float[] { 0.01895142f, -0.1798706f, -0.08032227f, 0.1263123f, 0.1188049f, -0.1054077f, 0.1110229f, 0.2277222f, 0.01730347f, -0.2961121f, -0.2073669f, -0.2266541f, -0.2982483f, -0.1834717f, 0.09024048f, 0.1340332f, 0.0947876f, 0.1726379f, 0.1774902f, -0.01135254f, -0.04351807f, 3.051758E-05f, -0.04901123f, -0.06298828f, 0.1169434f, 0.1540222f, 0.05529785f, 0.09960938f, 0.1436157f, -0.006530762f, -0.07241821f, 0.007171631f, -0.02081299f, -0.1089783f, -0.0406189f, 0.02346802f, -0.008575439f, -0.01367188f, 0.0788269f, 0.06607056f, 0.02838135f, 0.03436279f, 0.06893921f, 0.01547241f, 0.01583862f, 0.04196167f, 0.03952026f, -0.01635742f, 0.007843018f, 0.02435303f, 0.003265381f, -0.01928711f, 0.01501465f, 0.003997803f, -0.01522827f, -0.01266479f, 0.01760864f, -0.01138306f, -0.01480103f, -0.003265381f, 0.004425049f, -0.01550293f, 0.0008544922f, 0.004943848f, }
            },
            new SpatialChannel() { // Front center
                X = 0, Y = 0,
                LeftEarIR = new float[] { -0.03262329f, -0.1070251f, -0.05078125f, 0.139679f, 0.1341248f, -0.03921509f, -0.1394348f, -0.003204346f, 0.04852295f, -0.01385498f, -0.03527832f, -0.0670166f, -0.144989f, -0.10849f, -0.05892944f, -0.06271362f, -0.01870728f, 0.08853149f, 0.1058655f, 0.06817627f, 0.06567383f, 0.05551147f, 0.004577637f, -0.03094482f, 0.006011963f, 0.01745605f, 0.02105713f, 0.02331543f, 0.05804443f, 0.02877808f, 0.01980591f, 0.01641846f, 0.01794434f, -0.0262146f, -0.0328064f, -0.03338623f, -0.0284729f, -0.00881958f, 0.02728271f, 0.02947998f, 0.01696777f, 0.01907349f, 0.03015137f, 0.01678467f, 0.004547119f, 0.0001525879f, 0.002990723f, 0.007476807f, 0.01119995f, 0.02490234f, 0.01898193f, 0.01998901f, 0.01608276f, 0.02038574f, 0.007171631f, 0.01254272f, 0.007720947f, -0.005218506f, -0.01434326f, -0.005126953f, -0.0003356934f, -0.003295898f, -0.004425049f, -0.001678467f, },
                RightEarIR = new float[] { 0.01205444f, -0.02185059f, -0.07180786f, -0.03823853f, 0.052948f, -0.01797485f, 0.01422119f, 0.1327209f, 0.07955933f, -0.03250122f, -0.04928589f, -0.131073f, -0.2055664f, -0.1469116f, -0.09823608f, -0.05603027f, 0.0378418f, 0.09786987f, 0.1098022f, 0.07241821f, 0.04000854f, 0.01296997f, -0.02883911f, -0.05508423f, 0.009033203f, 0.05545044f, 0.05328369f, 0.0758667f, 0.08358765f, 0.05206299f, 0.01531982f, 0.007720947f, -0.04879761f, -0.05194092f, -0.03274536f, -0.009857178f, -0.01272583f, 0.007232666f, 0.01116943f, 0.01766968f, 0.01455688f, 0.008148193f, 0.01095581f, 0.007751465f, 0.01269531f, 0.01901245f, 0.01980591f, 0.01318359f, 0.01312256f, 0.01394653f, 0.005218506f, 0.01101685f, 0.007202148f, 0.00793457f, -0.0001525879f, 0.007476807f, 0.004364014f, 0.004302979f, 0.006011963f, 0.007629395f, 0.007049561f, 0.005828857f, 0.006835938f, 0.007202148f, }
            },
            new SpatialChannel() { // Top front center
                X = -45, Y = 0,
                LeftEarIR = new float[] { -0.004638672f, -0.05081177f, -0.02484131f, -0.07095337f, -0.04382324f, -0.08477783f, -0.05383301f, -0.08123779f, -0.04360962f, -0.1219177f, -0.1374817f, 0.01342773f, 0.1558838f, 0.01727295f, -0.03421021f, -0.01312256f, 0.06906128f, 0.1047974f, 0.1116638f, 0.03222656f, -0.02124023f, -0.06884766f, -0.1009216f, -0.0663147f, 0.0539856f, 0.08602905f, 0.09793091f, 0.104187f, 0.0880127f, 0.02355957f, 0.03503418f, 0.02536011f, 0.04611206f, 0.02468872f, 0.04669189f, 0.007232666f, 0.02822876f, -0.007171631f, 0.02780151f, 0.02182007f, 0.009857178f, -0.0223999f, -0.03158569f, -0.01373291f, -0.02038574f, 0.000793457f, -0.004943848f, 0.01376343f, 0.00604248f, 0.01123047f, 9.155273E-05f, 0.003814697f, 0.00994873f, 0.01516724f, 0.02441406f, 0.01446533f, 0.02209473f, 0.01016235f, 0.02603149f, 0.01004028f, 0.0307312f, 0.01065063f, 0.02380371f, 0.00579834f, },
                RightEarIR = new float[] { 0.006195068f, -0.0369873f, -0.01293945f, -0.06304932f, -0.03875732f, -0.08605957f, -0.05603027f, -0.08685303f, -0.050354f, -0.07492065f, -0.07540894f, -0.07342529f, -0.04171753f, -0.05187988f, 0.01483154f, 0.1190491f, 0.1533508f, 0.1454468f, 0.05279541f, -0.03482056f, -0.07913208f, -0.07827759f, -0.06668091f, 0.007324219f, 0.06072998f, 0.07443237f, 0.1117859f, 0.08700562f, 0.03652954f, -0.001068115f, 0.01449585f, 0.006347656f, 0.03491211f, 0.06445313f, 0.04718018f, 0.05776978f, 0.04605103f, 0.04696655f, 0.01422119f, 0.02215576f, -0.02838135f, -0.01544189f, -0.03140259f, -0.009765625f, -0.01593018f, -0.00201416f, -0.006500244f, -0.0003662109f, -0.0003356934f, -0.01132202f, 0.001983643f, -0.0003662109f, 0.01327515f, 0.01519775f, 0.02572632f, 0.01715088f, 0.015625f, 0.02856445f, 0.01809692f, 0.0333252f, 0.01455688f, 0.02694702f, -0.0009460449f, 0.01629639f, }
            },
            new SpatialChannel() { // Top front left
                X = -45, Y = -45,
                LeftEarIR = new float[] { -0.01452637f, -0.05145264f, -0.03918457f, -0.08465576f, -0.06295776f, -0.105072f, -0.07110596f, -0.1057739f, -0.06137085f, -0.07723999f, -0.04571533f, -0.2122498f, -0.1867676f, 0.1738586f, 0.3607788f, 0.07879639f, -0.04275513f, -0.09118652f, 0.07250977f, 0.08084106f, 0.1434937f, 0.04095459f, -0.02035522f, -0.1243896f, -0.1288452f, -0.01824951f, 0.142395f, 0.1405029f, 0.1063538f, 0.1377563f, 0.1207886f, 0.05154419f, 0.02127075f, 0.05810547f, 0.05413818f, 0.01644897f, -0.01480103f, 0.002258301f, 0.001190186f, 0.009033203f, 0.007873535f, 0.02789307f, -0.02633667f, -0.01693726f, -0.02462769f, 0.002868652f, -0.03991699f, 0.00692749f, 0.007995605f, 0.02313232f, -0.002410889f, 0.02243042f, 0.008056641f, 0.01220703f, 0.007659912f, 0.02203369f, 0.02001953f, 0.03213501f, 0.02761841f, 0.005889893f, 0.01116943f, 0.00201416f, 0.02590942f, -0.01104736f, },
                RightEarIR = new float[] { 0.007415771f, -0.03460693f, -0.0133667f, -0.04525757f, -0.03250122f, -0.05422974f, -0.04119873f, -0.05215454f, -0.05166626f, -0.05969238f, -0.04833984f, -0.03552246f, -0.0413208f, 0.01339722f, 0.0274353f, 0.07614136f, 0.05541992f, 0.03631592f, -0.01623535f, -0.02780151f, -0.04272461f, -0.04370117f, -0.005706787f, 0.006408691f, 0.03549194f, 0.0486145f, 0.04748535f, 0.03414917f, 0.007049561f, 0.02120972f, -0.004455566f, 0.03198242f, 0.01754761f, 0.04290771f, 0.03057861f, 0.04226685f, 0.03060913f, 0.02679443f, 0.02026367f, 0.002227783f, 0.005828857f, -0.007232666f, 0.003540039f, -0.001953125f, 0.008087158f, 0.003814697f, 0.01480103f, 0.00680542f, 0.01559448f, 0.005249023f, 0.02005005f, 0.008117676f, 0.0284729f, 0.01260376f, 0.03268433f, 0.01272583f, 0.03408813f, 0.01608276f, 0.0274353f, 0.01367188f, 0.01306152f, 0.009368896f, 0.003265381f, 0.008575439f, }
            },
            new SpatialChannel() { // Top front right
                X = -45, Y = 45,
                LeftEarIR = new float[] { 0.004486084f, -0.009490967f, -0.001831055f, -0.01885986f, -0.009338379f, -0.03289795f, -0.01882935f, -0.04931641f, -0.021698f, -0.06314087f, -0.02102661f, -0.06906128f, -0.04730225f, -0.09658813f, 0.00692749f, 0.01022339f, 0.01779175f, -0.01586914f, -0.007843018f, 0.01391602f, 0.02520752f, 0.03805542f, 0.008544922f, 0.01004028f, -0.02957153f, -0.02984619f, -0.04586792f, 0.003448486f, 0.007965088f, 0.04138184f, 0.04598999f, 0.05422974f, 0.03005981f, 0.02935791f, 0.02163696f, 0.01989746f, 0.02493286f, 0.02380371f, 0.02877808f, 0.02209473f, 0.02105713f, 0.02139282f, 0.02047729f, 0.01849365f, 0.002624512f, 0.008758545f, -0.002655029f, 0.01190186f, 0.002197266f, 0.01638794f, 0.01153564f, 0.02084351f, 0.01593018f, 0.01855469f, 0.01766968f, 0.01467896f, 0.01394653f, 0.01422119f, 0.01843262f, 0.0196228f, 0.02087402f, 0.01831055f, 0.01593018f, 0.01525879f, },
                RightEarIR = new float[] { 0.01272583f, -0.02923584f, 0.001098633f, -0.05783081f, -0.02410889f, -0.09423828f, -0.05563354f, -0.1210327f, -0.0741272f, -0.119751f, -0.06799316f, -0.08300781f, -0.0531311f, -0.1094055f, -0.1091003f, 0.01208496f, 0.05563354f, 0.03149414f, 0.09576416f, 0.2174072f, 0.2020264f, 0.08370972f, 0.015625f, -0.08032227f, -0.09329224f, -0.09857178f, -0.04089355f, 0.03860474f, 0.08572388f, 0.1007385f, 0.1495361f, 0.1483154f, 0.07434082f, 0.02639771f, 0.01156616f, 0.02084351f, 0.04681396f, 0.04275513f, 0.03430176f, 0.04833984f, 0.02844238f, -0.006011963f, -0.007293701f, 0.008911133f, -0.0289917f, -0.03430176f, -0.01647949f, -0.006072998f, -0.01043701f, 0.0166626f, 0.01809692f, 0.005706787f, -0.0006103516f, 0.01138306f, 0.004638672f, 0.01828003f, 0.02490234f, 0.04049683f, 0.0368042f, 0.04345703f, 0.02563477f, 0.02661133f, 0.007141113f, 0.003845215f, }
            },
            //new SpatialChannel() { // Surround left
            //    X = 0, Y = -90,
            //    LeftEar = new float[] { 0.01489258f, -0.06100464f, -0.03289795f, -0.09683228f, -0.01742554f, -0.04992676f, 0.06958008f, 0.02746582f, 0.1298523f, 0.02111816f, 0.06869507f, -0.1024475f, -0.07424927f, -0.2347107f, -0.1526184f, -0.2374878f, -0.07931519f, -0.1051941f, 0.06997681f, 0.02685547f, 0.1482849f, 0.04205322f, 0.1083374f, -0.02841187f, 0.04437256f, -0.06130981f, 0.05737305f, -0.003723145f, 0.130249f, 0.06863403f, 0.1583252f, 0.06097412f, 0.09118652f, -0.01901245f, -0.005462646f, -0.07775879f, -0.03710938f, -0.05407715f, 0.00881958f, 0.01425171f, 0.06396484f, 0.05453491f, 0.07015991f, 0.04574585f, 0.04095459f, 0.02410889f, 0.01809692f, 0.02270508f, 0.01361084f, 0.03204346f, 0.008483887f, 0.03091431f, -0.009124756f, 0.02334595f, -0.02484131f, 0.02532959f, -0.0267334f, 0.037323f, -0.0256958f, 0.04193115f, -0.03518677f, 0.03344727f, -0.04812622f, 0.02798462f, },
            //    RightEar = new float[] { -0.009124756f, -0.01528931f, -0.01177979f, -0.0166626f, -0.007354736f, -0.009002686f, 0.0144043f, 0.01504517f, 0.02130127f, 0.003295898f, -0.01397705f, -0.04840088f, -0.07232666f, -0.07730103f, -0.07305908f, -0.05279541f, -0.03552246f, -0.004760742f, 0.01019287f, 0.02853394f, 0.03076172f, 0.02780151f, 0.01434326f, 0.01065063f, 0.01242065f, 0.01937866f, 0.02706909f, 0.03320313f, 0.03594971f, 0.03182983f, 0.03109741f, 0.01931763f, 0.01431274f, 0.0003967285f, 0.002197266f, -0.003570557f, 0.003723145f, 0.002655029f, 0.00970459f, 0.009246826f, 0.0112915f, 0.0100708f, 0.007965088f, 0.006530762f, 0.007415771f, 0.009552002f, 0.01245117f, 0.01376343f, 0.01727295f, 0.01571655f, 0.01708984f, 0.01290894f, 0.01351929f, 0.007080078f, 0.007720947f, 0.001831055f, 0.005065918f, 0.001251221f, 0.004943848f, 0.001525879f, 0.004760742f, 3.051758E-05f, 0.001556396f, -0.002593994f, }
            //},
            //new SpatialChannel() { // Surround right
            //    X = 0, Y = 90,
            //    LeftEar = new float[] { 0.01010132f, -0.01101685f, 0.004455566f, -0.02615356f, -0.005432129f, -0.0267334f, 0.001525879f, 0.006591797f, 0.03820801f, 0.01379395f, -0.00289917f, -0.02304077f, -0.02993774f, -0.03631592f, -0.04898071f, -0.04742432f, -0.05767822f, -0.0463562f, -0.04196167f, -0.02334595f, -0.01391602f, 0.006530762f, 0.02484131f, 0.02996826f, 0.03585815f, 0.02502441f, 0.02532959f, 0.008789063f, 0.01989746f, 0.01043701f, 0.02514648f, 0.01599121f, 0.02871704f, 0.01779175f, 0.02407837f, 0.01254272f, 0.01416016f, 0.003356934f, 0.003448486f, 0.003234863f, 0.004455566f, 0.00769043f, 0.004699707f, 0.0149231f, 0.007415771f, 0.0177002f, 0.004272461f, 0.01623535f, 0.0005493164f, 0.01559448f, 0.001525879f, 0.01629639f, 0.00213623f, 0.01852417f, 0.003540039f, 0.01873779f, 0.002166748f, 0.01849365f, -0.001190186f, 0.01571655f, -0.005859375f, 0.01184082f, -0.009765625f, 0.009399414f, },
            //    RightEar = new float[] { 0.03909302f, -0.130249f, -0.1954651f, -0.02941895f, 0.2983704f, 0.1208191f, 0.05874634f, 0.0508728f, -0.02841187f, -0.2839661f, -0.2964478f, -0.1322632f, -0.160553f, -0.1503296f, 0.01083374f, 0.0708313f, 0.02667236f, 0.06933594f, 0.1250916f, 0.0586853f, -0.05456543f, -0.04879761f, -0.02288818f, 0.03915405f, 0.09362793f, 0.1439514f, 0.1168823f, 0.09631348f, 0.06134033f, 0.01879883f, 0.006622314f, 0.04525757f, -0.01611328f, -0.07849121f, -0.06018066f, 0.004821777f, -0.0001525879f, 0.004150391f, 0.06057739f, 0.072052f, 0.02780151f, 0.01593018f, 0.04394531f, 0.05630493f, 0.05407715f, 0.05535889f, 0.0402832f, 0.01702881f, 0.001037598f, 0.01754761f, 0.004272461f, -3.051758E-05f, -0.00680542f, 0.001861572f, -0.01644897f, -0.00390625f, -0.004394531f, 0.004882813f, -0.005401611f, 0.00567627f, -0.004669189f, -0.006286621f, -3.051758E-05f, 0.01379395f, }
            //},
            //new SpatialChannel() { // Top surround left
            //    X = -45, Y = -90,
            //    LeftEar = new float[] { 0.01141357f, -0.02203369f, -0.001312256f, -0.04672241f, -0.02563477f, -0.08102417f, -0.05471802f, -0.1127625f, -0.07556152f, -0.1219177f, -0.08074951f, -0.1029358f, -0.06375122f, -0.0567627f, -0.0526123f, -0.1634216f, -0.1854248f, 0.1242676f, 0.2839966f, 0.1734009f, 0.05273438f, 0.03851318f, 0.01391602f, 0.08822632f, 0.09042358f, 0.006072998f, -0.06536865f, -0.03640747f, -0.05712891f, 0.002868652f, 0.1056519f, 0.1230164f, 0.06906128f, 0.1225281f, 0.1290894f, 0.07641602f, 0.04473877f, 0.06222534f, 0.03540039f, -0.01113892f, -0.01580811f, 0.008331299f, 0.01055908f, 0.004119873f, 0.008453369f, 0.004821777f, -0.0223999f, -0.007293701f, -0.004089355f, 0.007019043f, -0.01098633f, 0.02630615f, 0.009429932f, 0.01968384f, 0.02886963f, 0.05059814f, 0.02914429f, 0.0196228f, 0.0199585f, -0.00579834f, 0.008605957f, -0.01037598f, 0.02682495f, -0.01733398f, },
            //    RightEar = new float[] { -0.01300049f, -0.003692627f, -0.03051758f, -0.008544922f, -0.05371094f, -0.05831909f, -0.05123901f, 0.04751587f, 0.01525879f, 0.08074951f, 0.07733154f, 0.02026367f, -0.08978271f, -0.08914185f, -0.1378479f, -0.09848022f, -0.0411377f, 0.04864502f, 0.04116821f, 0.09030151f, 0.06573486f, 0.05743408f, -0.02246094f, 0.002319336f, -0.01953125f, 0.01919556f, 0.05215454f, 0.09744263f, 0.07434082f, 0.04129028f, 0.02243042f, 0.02581787f, 0.004058838f, -0.02410889f, -0.01895142f, -0.008483887f, -0.03390503f, -0.02099609f, 0.005645752f, 0.001464844f, 0.001708984f, -0.0166626f, 0.008331299f, -0.02890015f, 0.003112793f, -0.01507568f, 0.03973389f, 0.01864624f, 0.04751587f, 0.01037598f, 0.02532959f, -0.03100586f, -0.01855469f, -0.05273438f, -0.02206421f, -0.05065918f, 0.003265381f, -0.02059937f, 0.02938843f, -0.01565552f, -0.007904053f, -0.03610229f, -0.01226807f, -0.05865479f, }
            //},
            //new SpatialChannel() { // Top surround right
            //    X = -45, Y = 90,
            //    LeftEar = new float[] { 0.005249023f, -0.0189209f, -0.00390625f, -0.02789307f, -0.01904297f, -0.03201294f, -0.03585815f, -0.03366089f, -0.04745483f, -0.03720093f, -0.07873535f, -0.06607056f, -0.04150391f, 0.01864624f, -0.001556396f, -0.007476807f, -0.01660156f, -0.009918213f, 0.001556396f, -0.005340576f, 0.009643555f, -0.006713867f, 0.005401611f, -0.01620483f, -0.01190186f, -0.01779175f, 0.00970459f, 0.02133179f, 0.04568481f, 0.04238892f, 0.04602051f, 0.02606201f, 0.03268433f, 0.01605225f, 0.02966309f, 0.02746582f, 0.03967285f, 0.03729248f, 0.02862549f, 0.03186035f, 0.01379395f, 0.03909302f, 0.00402832f, 0.03839111f, -0.007263184f, 0.03295898f, -0.01611328f, 0.02905273f, -0.009552002f, 0.02761841f, 0.007232666f, 0.02603149f, 0.01882935f, 0.01315308f, 0.02639771f, 0.006713867f, 0.03097534f, 0.001647949f, 0.03137207f, -0.00177002f, 0.02828979f, -0.005584717f, 0.02285767f, -0.004547119f, },
            //    RightEar = new float[] { 0.001861572f, -0.02328491f, -0.01626587f, -0.05032349f, -0.04257202f, -0.08578491f, -0.06729126f, -0.1160583f, -0.07794189f, -0.1238098f, -0.06768799f, -0.1073914f, -0.03683472f, -0.07641602f, -0.08691406f, -0.1871948f, 0.02304077f, 0.1784363f, 0.1627197f, 0.0640564f, 0.1081238f, 0.08602905f, 0.09509277f, 0.06210327f, 0.01739502f, -0.03546143f, -0.01174927f, -0.06173706f, -0.06634521f, 0.06396484f, 0.1114807f, 0.1173706f, 0.1378784f, 0.150238f, 0.05648804f, 0.01290894f, 0.0133667f, 0.04846191f, 0.04550171f, 0.01828003f, 0.01559448f, 0.02960205f, 0.0168457f, 0.00479126f, 0.007751465f, 0.007598877f, -0.02163696f, -0.02902222f, -0.04891968f, -0.01348877f, -0.003143311f, 0.03219604f, 0.007019043f, 0.03387451f, 0.02276611f, 0.03268433f, 0.01339722f, 0.02441406f, 0.02120972f, 0.001098633f, 0.02035522f, 0.0133667f, 0.04098511f, 0.002227783f, }
            //},
            new SpatialChannel() { // Rear left
                X = 0, Y = -135,
                LeftEarIR = new float[] { -0.0008544922f, -0.1164551f, -0.1558533f, 0.04312134f, 0.1611328f, 0.1359558f, 0.08459473f, -0.001281738f, -0.1792297f, -0.2182617f, -0.1164551f, -0.08312988f, -0.097229f, -0.09555054f, -0.04946899f, -0.04318237f, -0.01016235f, 0.03131104f, 0.02655029f, -0.01254272f, 0.02590942f, 0.1103821f, 0.1159668f, 0.08544922f, 0.07400513f, 0.06408691f, 0.01437378f, 0.002349854f, 0.005828857f, 0.02423096f, 0.01568604f, 0.04190063f, 0.0350647f, 0.03610229f, 0.02075195f, 0.02859497f, 0.01330566f, 0.02102661f, 0.02023315f, 0.015625f, 0.002410889f, 0.01248169f, 0.02957153f, 0.0369873f, 0.03076172f, 0.02200317f, 0.007965088f, 0.002349854f, 0.004577637f, 0.0003356934f, 0.001037598f, -9.155273E-05f, 0.01828003f, 0.003723145f, 0.005615234f, -0.006225586f, 0.01519775f, 0.005462646f, 0.0168457f, 0.002716064f, 0.009155273f, -0.005096436f, 0.005279541f, 0.0009155273f, },
                RightEarIR = new float[] { -6.103516E-05f, -0.02612305f, -0.01965332f, -0.01315308f, 0.006256104f, 0.009185791f, 0.02514648f, 0.01773071f, -0.009490967f, -0.02703857f, -0.04220581f, -0.05621338f, -0.0597229f, -0.04428101f, -0.02471924f, -0.01171875f, 0.00289917f, 0.007873535f, 0.01358032f, -9.155273E-05f, -0.00479126f, -0.002593994f, 0.006378174f, 0.01739502f, 0.02285767f, 0.02575684f, 0.01898193f, 0.01559448f, 0.002990723f, -0.004089355f, -0.006347656f, -0.006622314f, -0.005310059f, 0.0006103516f, 0.007202148f, 0.008728027f, 0.01086426f, 0.0144043f, 0.01443481f, 0.01525879f, 0.01675415f, 0.01748657f, 0.01873779f, 0.01730347f, 0.02017212f, 0.0135498f, 0.01635742f, 0.009857178f, 0.01535034f, 0.008972168f, 0.01132202f, 0.007385254f, 0.009338379f, 0.005950928f, 0.006469727f, 0.006011963f, 0.004577637f, 0.004150391f, 0.005310059f, 0.005950928f, 0.00579834f, 0.006347656f, 0.004608154f, 0.006744385f, }
            },
            new SpatialChannel() { // Rear right
                X = 0, Y = 135,
                LeftEarIR = new float[] { -0.001251221f, -0.0206604f, -0.03012085f, -0.02352905f, 0.01922607f, 0.03240967f, 0.04367065f, 0.006652832f, -0.01046753f, -0.04415894f, -0.03741455f, -0.06143188f, -0.04919434f, -0.05258179f, -0.02627563f, -0.01852417f, -0.0003967285f, 0.01174927f, 0.01806641f, 0.01275635f, -0.001861572f, 0.001037598f, -0.004241943f, 0.01052856f, 0.006469727f, 0.02053833f, 0.01409912f, 0.03012085f, 0.01495361f, 0.02606201f, 0.003631592f, 0.01358032f, -0.01412964f, 0.004333496f, -0.02258301f, 0.002288818f, -0.01864624f, 0.01919556f, -0.002746582f, 0.03170776f, 0.005889893f, 0.03283691f, 0.001617432f, 0.02658081f, -0.001037598f, 0.02020264f, -0.00201416f, 0.01937866f, -0.0001525879f, 0.02182007f, 0.001495361f, 0.02349854f, 0.002349854f, 0.02331543f, -6.103516E-05f, 0.01895142f, -0.0008850098f, 0.01043701f, -0.0001525879f, 0.003631592f, 0.004119873f, -0.001861572f, 0.008728027f, -0.006317139f, },
                RightEarIR = new float[] { -0.002807617f, -0.05380249f, -0.1889954f, -0.04852295f, 0.1572266f, 0.2469482f, 0.1085815f, -0.06698608f, -0.1458435f, -0.1486206f, -0.1295166f, -0.1329651f, -0.1026001f, -0.07281494f, -0.02783203f, -0.02960205f, -0.0375061f, -0.0451355f, 0.04296875f, 0.06530762f, 0.0402832f, -0.03015137f, -0.01513672f, 0.04238892f, 0.1306458f, 0.1356201f, 0.09799194f, 0.02493286f, 0.005187988f, -0.0111084f, -0.01647949f, -0.005523682f, 0.03585815f, 0.04382324f, 0.03070068f, 0.01205444f, 0.01159668f, 0.02767944f, 0.04266357f, 0.0328064f, 0.01867676f, 0.01068115f, 0.01617432f, 0.02658081f, 0.03405762f, 0.03533936f, 0.02825928f, 0.02282715f, 0.003875732f, 0.004638672f, -0.005371094f, 0.01086426f, 0.007873535f, 0.01754761f, -0.00579834f, -0.0003356934f, -0.01193237f, 0.008178711f, 0.004516602f, 0.01638794f, 0.002746582f, 0.004882813f, -0.004089355f, 0.01184082f, }
            },
            new SpatialChannel() { // Top rear left
                X = -45, Y = -135,
                LeftEarIR = new float[] { 0.001098633f, -0.05197144f, -0.03088379f, -0.07241821f, -0.06365967f, -0.09191895f, -0.08105469f, -0.09509277f, -0.07925415f, -0.08258057f, -0.05517578f, -0.05545044f, -0.07354736f, -0.1836548f, -0.06091309f, 0.1333008f, 0.2213135f, 0.1165771f, 0.07598877f, -0.0199585f, 0.03912354f, 0.05462646f, 0.07177734f, -0.007904053f, -0.01416016f, -0.03872681f, -0.03079224f, 0.02856445f, 0.09780884f, 0.08047485f, 0.08047485f, 0.09710693f, 0.08752441f, 0.04840088f, 0.04614258f, 0.05187988f, 0.02255249f, -0.001251221f, 0.002349854f, 0.02420044f, 0.01702881f, 0.02319336f, 0.00894165f, 0.004821777f, -0.0002746582f, 0.0194397f, 0.0149231f, 0.01507568f, 0.005065918f, 0.02719116f, 0.002838135f, 0.02200317f, 0.01010132f, 0.03213501f, 0.007537842f, 0.01693726f, 0.004058838f, 0.00491333f, 0.0133667f, 0.01364136f, 0.02236938f, -0.001495361f, 0.02679443f, -0.004241943f, },
                RightEarIR = new float[] { -0.0004577637f, -0.03182983f, -0.008453369f, -0.04885864f, -0.06896973f, -0.08984375f, -0.03518677f, 0.02960205f, -0.01681519f, 0.04650879f, 0.08694458f, 0.0513916f, -0.07803345f, -0.1043701f, -0.1375122f, -0.1006775f, -0.03601074f, 0.04431152f, 0.1005554f, 0.1042786f, 0.09024048f, 0.01199341f, -0.005157471f, -0.04232788f, -0.02441406f, -0.03903198f, 0.03820801f, 0.05160522f, 0.05764771f, 0.02859497f, 0.05325317f, -0.003295898f, -0.03863525f, -0.02084351f, -0.001647949f, -0.04507446f, -0.01507568f, 0.02453613f, 0.006622314f, -0.01269531f, 0.01589966f, 0.01651001f, -0.01449585f, -0.008972168f, 0.0007324219f, -0.002746582f, -0.01702881f, -0.0009460449f, -0.01254272f, 0.004608154f, -0.001464844f, 0.0002746582f, -0.0302124f, -0.002960205f, -0.02328491f, -0.004425049f, -0.0300293f, 0.002502441f, -0.02954102f, -0.002593994f, -0.01504517f, 0.04217529f, 0.01669312f, 0.03366089f, }
            },
            new SpatialChannel() { // Top rear right
                X = -45, Y = 135,
                LeftEarIR = new float[] { -0.004455566f, -0.01992798f, -0.01577759f, -0.03256226f, -0.02999878f, -0.0430603f, -0.03918457f, -0.0486145f, -0.03997803f, -0.04870605f, -0.05667114f, -0.08779907f, -0.03918457f, -0.005584717f, 0.04364014f, 0.01000977f, 0.0322876f, -0.01544189f, 0.01660156f, -0.02340698f, 0.02825928f, -0.004974365f, 0.01678467f, -0.02450562f, -0.01574707f, -0.01190186f, 0.009216309f, 0.03567505f, 0.03756714f, 0.06036377f, 0.03091431f, 0.03787231f, 0.02041626f, 0.03674316f, 0.03427124f, 0.02957153f, 0.03359985f, 0.01950073f, 0.02981567f, 0.01373291f, 0.03302002f, 0.01623535f, 0.02636719f, 0.00869751f, 0.01000977f, 0.01034546f, 0.001037598f, 0.02276611f, 0.0004882813f, 0.03259277f, -0.004730225f, 0.03961182f, -0.01147461f, 0.04748535f, -0.01434326f, 0.05218506f, -0.01519775f, 0.04714966f, -0.01425171f, 0.03890991f, -0.01150513f, 0.03244019f, -0.004821777f, 0.02346802f, },
                RightEarIR = new float[] { -0.01156616f, -0.0418396f, -0.03057861f, -0.07052612f, -0.05099487f, -0.09051514f, -0.065979f, -0.09579468f, -0.068573f, -0.08221436f, -0.05810547f, -0.04888916f, -0.06588745f, -0.1446228f, -0.1168823f, 0.08215332f, 0.180542f, 0.1626587f, 0.08544922f, -0.01754761f, -0.01361084f, 0.02648926f, 0.05041504f, 0.01986694f, 0.02142334f, 0.02655029f, 0.01626587f, 0.02612305f, 0.03588867f, 0.03741455f, 0.02386475f, 0.08892822f, 0.1102905f, 0.09353638f, 0.06253052f, 0.04943848f, 0.0213623f, -0.004333496f, 0.00793457f, 0.02676392f, 0.02645874f, 0.01437378f, -0.02374268f, -0.01571655f, -0.01138306f, 0.04632568f, 0.02050781f, 0.02581787f, -0.01690674f, 0.02078247f, 0.005126953f, 0.03451538f, 0.02218628f, 0.02294922f, 0.007263184f, 0.007446289f, 0.01382446f, -0.003723145f, 0.01602173f, 0.005340576f, 0.03457642f, 0.002075195f, 0.02929688f, 0.00692749f, }
            },
            new SpatialChannel() { // Rear center
                X = 0, Y = 180,
                LeftEarIR = new float[] { -0.00994873f, -0.05477905f, -0.08258057f, -0.03671265f, 0.05603027f, 0.1422729f, 0.1134949f, -0.008758545f, -0.09262085f, -0.1066895f, -0.105072f, -0.1608276f, -0.1338501f, -0.1205444f, -0.04348755f, -0.01693726f, 0.05178833f, 0.04580688f, 0.07434082f, 0.03903198f, 0.03710938f, 0.007904053f, 0.02307129f, 0.005523682f, 0.0194397f, 0.0302124f, 0.05987549f, 0.05523682f, 0.0625f, 0.05895996f, 0.04577637f, 0.01025391f, 9.155273E-05f, -0.006744385f, -0.008911133f, -0.01013184f, 0.008056641f, 0.01269531f, 0.02337646f, 0.02886963f, 0.03192139f, 0.0161438f, 0.01272583f, 0.01455688f, 0.01809692f, 0.01968384f, 0.01983643f, 0.01907349f, 0.008026123f, 0.007995605f, -0.001342773f, 0.0003051758f, -0.006835938f, 0.0008544922f, -0.002532959f, 0.0005493164f, 0.0003662109f, 0.0009460449f, 0.004821777f, 0.001098633f, 0.01046753f, 0.003723145f, 0.008514404f, -0.0007324219f, },
                RightEarIR = new float[] { -0.005279541f, -0.05996704f, -0.07467651f, 0.0003967285f, 0.04431152f, 0.06158447f, 0.09771729f, 0.04956055f, -0.06182861f, -0.09713745f, -0.1087646f, -0.1481323f, -0.1329346f, -0.09051514f, -0.0559082f, -0.006591797f, 0.04879761f, 0.0670166f, 0.05038452f, 0.01885986f, -0.01220703f, -0.0135498f, 0.01324463f, 0.03631592f, 0.03536987f, 0.03555298f, 0.0496521f, 0.06503296f, 0.05218506f, 0.04034424f, 0.02706909f, 0.01046753f, -0.01727295f, -0.002716064f, 6.103516E-05f, 0.007629395f, 0.002166748f, 0.02453613f, 0.01779175f, 0.01919556f, 0.01791382f, 0.02145386f, 0.01730347f, 0.01815796f, 0.02700806f, 0.02267456f, 0.02380371f, 0.01681519f, 0.01733398f, 0.00213623f, -0.004699707f, -0.01138306f, -0.01196289f, -0.01681519f, -0.00769043f, -0.002105713f, 0.012146f, 0.01016235f, 0.02041626f, 0.006988525f, 0.01470947f, 0.002380371f, 0.01318359f, -0.004882813f, }
            },
            new SpatialChannel() { // Top rear center
                X = -45, Y = 180,
                LeftEarIR = new float[] { 0.003662109f, -0.01831055f, -0.0100708f, -0.03225708f, -0.03115845f, -0.05072021f, -0.05270386f, -0.06570435f, -0.06716919f, -0.07000732f, -0.06661987f, -0.06271362f, -0.04977417f, -0.04608154f, -0.07196045f, -0.106781f, -0.03189087f, 0.05737305f, 0.09082031f, 0.07888794f, 0.05517578f, 0.03588867f, 0.03952026f, 0.04400635f, 0.02459717f, 0.002471924f, -0.01245117f, -0.03512573f, -0.02038574f, 0.01937866f, 0.06744385f, 0.052948f, 0.07962036f, 0.06347656f, 0.06509399f, 0.02957153f, 0.04333496f, 0.03915405f, 0.01824951f, 0.01980591f, 0.006500244f, 0.0456543f, 0.006225586f, 0.05117798f, -0.005706787f, 0.04425049f, -0.015625f, 0.04147339f, -0.01455688f, 0.02334595f, -0.008087158f, 0.01977539f, 0.001220703f, 0.01379395f, 0.01428223f, 0.001983643f, 0.01727295f, -0.001586914f, 0.01754761f, 0.00390625f, 0.02441406f, 0.01464844f, 0.02026367f, 0.01455688f, },
                RightEarIR = new float[] { -0.007904053f, -0.0322876f, -0.02706909f, -0.04684448f, -0.04907227f, -0.05847168f, -0.06201172f, -0.06185913f, -0.06085205f, -0.05493164f, -0.04721069f, -0.05029297f, -0.07778931f, -0.06719971f, -0.01858521f, 0.01190186f, 0.0461731f, 0.08563232f, 0.08508301f, 0.0539856f, 0.03607178f, 0.009246826f, 0.0003662109f, -0.01296997f, -0.01348877f, -0.03543091f, 0.01568604f, 0.04055786f, 0.06515503f, 0.05072021f, 0.05462646f, 0.03341675f, 0.01837158f, 0.03057861f, 0.03543091f, 0.03863525f, 0.01867676f, 0.03338623f, 0.04037476f, 0.03985596f, 0.03396606f, 0.03421021f, 0.01800537f, 0.00958252f, 0.002410889f, 0.01248169f, -0.00604248f, 0.01913452f, -0.003967285f, 0.01577759f, -0.01153564f, 0.02005005f, -0.003875732f, 0.0173645f, 0.002868652f, 0.02600098f, 0.008758545f, 0.02667236f, 0.01821899f, 0.02938843f, 0.0138855f, 0.02322388f, 0.01312256f, 0.01223755f, },
            },
        };
    }
}